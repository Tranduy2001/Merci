"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7014],{67014:function(e,t,n){n.d(t,{$A:function(){return S},DG:function(){return ta},tk:function(){return eK},QH:function(){return th},H0:function(){return tf}});var i,l,r=n(24246),o=n(84174),s=n(72352),a=n(774),c=n(19303),d=n(73871),x=n(7025),u=n(17572),h=n(45372),m=n(2912),p=n(24435),g=n(77452),f=n(79894),j=n.n(f),b=n(66230),v=n(60752),y=n(53414),w=n(73868);let C=e=>{var t,n,i;let{userApiKey:l}=e,f=(0,o.S)({base:!0,md:!1}),{data:C}=(0,w.useSession)(),S=null==C?void 0:null===(t=C.user)||void 0===t?void 0:null===(n=t.subscriptions)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:i.active;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.W,{maxW:"990px",pt:"60px",textAlign:"center",overflow:"hidden",children:(0,r.jsxs)(a.xu,{py:{base:16,lg:28},children:[(0,r.jsx)(c.X,{mb:8,maxW:"600px",mx:"auto",children:"Turn any image into awesome with the Designify API"}),(0,r.jsx)(d.E,{src:"/api_docs.png",alt:"API Example",role:"presentation",maxH:"450px",mx:"auto"}),(0,r.jsx)(x.x,{mt:4,children:"Integrate our API into your website or app, then use any image to generate unique designs."})]})}),(0,r.jsx)(a.xu,{bg:"gray.50",py:{base:16,lg:28},children:(0,r.jsxs)(s.W,{bg:"gray.50",maxW:"750px",children:[(0,r.jsx)(c.X,{as:"h2",mb:8,maxW:"650px",mx:"auto",textAlign:"center",children:"Designify any image with 1 API call"}),(0,r.jsx)(u.k,{justify:{base:"start",md:"center"},overflowX:"auto",children:(0,r.jsx)(v.Ro,{})}),(0,r.jsx)(x.x,{mt:8,textAlign:"center",maxW:"600px",mx:"auto",children:"Design used to be complex, but now it's just an API call away. Upload an image from any website, mobile app, or any other programming language, then save the final result in seconds."})]})}),(0,r.jsx)(a.xu,{bg:"white",py:{base:16,lg:28},children:(0,r.jsx)(s.W,{maxW:"880px",children:(0,r.jsxs)(u.k,{wrap:"wrap",children:[(0,r.jsxs)(a.xu,{w:{base:"100%",md:"50%"},pr:{base:0,md:10},pl:{base:0,md:5},children:[(0,r.jsx)(c.X,{textAlign:{base:"initial",md:"initial"},as:"h3",mb:{base:6,lg:8},fontSize:"3xl",children:"Get Started"}),(0,r.jsxs)(h.GS,{textAlign:{base:"initial",md:"initial"},listStylePosition:{base:"initial",md:"initial"},children:[(0,r.jsxs)(h.HC,{children:[(0,r.jsxs)(b.M2,{condition:!(null==C?void 0:C.user),wrapper:e=>(0,r.jsx)(m.r,{color:"palette.2",onClick:()=>(0,y.z)("kaleido"),target:"_blank",children:e}),children:["Sign-up"," "]}),"for"," ",(0,r.jsxs)(b.M2,{condition:!S,wrapper:e=>(0,r.jsx)(m.r,{color:"palette.2",href:"/pricing",target:"_blank",rel:"noreferrer",children:e}),children:["Designify Pro"," "]}),"and get your"," ",(0,r.jsx)(b.M2,{condition:!!(null==C?void 0:C.user),wrapper:e=>(0,r.jsx)(m.r,{color:"palette.2",href:"/dashboard?tab=api-key",target:"_blank",rel:"noreferrer",children:e}),children:"API Key"}),"."]}),(0,r.jsxs)(h.HC,{children:["Use a template or create a design from scratch, then get the"," ",(0,r.jsx)(b.CW,{children:"Design ID"}),"."]}),(0,r.jsxs)(h.HC,{children:["Use the"," ",(0,r.jsx)(j(),{href:"#sample_code",passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(m.r,{color:"palette.2",children:"Sample Code below"})})," ","to get started quickly."]})]}),(0,r.jsxs)(x.x,{fontSize:"xs",mt:4,children:["By default you can process up to 1,000 images per month. Review your usage and set a custom limit in your"," ",(0,r.jsx)(b.M2,{condition:Boolean(null==C?void 0:C.user),wrapper:e=>(0,r.jsx)(m.r,{color:"palette.2",href:"/dashboard",target:"_blank",rel:"noreferrer",children:e}),children:"dashboard"}),"."]})]}),(0,r.jsxs)(a.xu,{w:{base:"100%",md:"50%"},pr:{base:0,md:5},pl:{base:0,md:10},mt:{base:8,md:0},children:[(0,r.jsx)(c.X,{textAlign:{base:"initial",md:"initial"},as:"h3",mb:{base:6,lg:8},fontSize:"3xl",children:"Design ID"}),(0,r.jsxs)(x.x,{textAlign:{base:"initial",md:"initial"},children:["Any design you save has a unique ID. To get the Design ID, edit a new design or open an existing one and then click"," ",(0,r.jsx)(b.CW,{children:"Start Batch > API Upload"}),"."]})]})]})})}),(0,r.jsx)(s.W,{maxW:"1020px",children:(0,r.jsx)(p.i,{borderWidth:"2px 0 0 0"})}),(0,r.jsx)(a.xu,{textAlign:{base:"initial",md:"initial"},bg:"white",pt:{base:16},pb:{base:16},pos:"relative",id:"sample_code",children:(0,r.jsxs)(s.W,{bg:"white",maxW:"990px",children:[(0,r.jsx)(c.X,{as:"h2",mb:8,maxW:"650px",mx:"auto",textAlign:"center",children:"Sample Code"}),(0,r.jsxs)(x.x,{align:"center",mb:6,children:["The following samples show the minimal code needed to use the API. For more in depth usage examples take a look at our"," ",(0,r.jsx)(m.r,{color:"palette.2",target:"_blank",href:"https://github.com/remove-bg/designify-api-demo",children:"demo repository"}),"."]}),(0,r.jsx)(v.jn,{isMobile:f})]})}),(0,r.jsx)(s.W,{maxW:"1020px",children:(0,r.jsx)(p.i,{borderWidth:"2px 0 0 0"})}),(0,r.jsx)(a.xu,{bg:"white",pt:{base:16},pb:{base:8},children:(0,r.jsxs)(s.W,{maxW:"990px",children:[(0,r.jsx)(c.X,{as:"h2",mb:4,maxW:"650px",mx:"auto",textAlign:"center",children:"API Reference"}),l&&(0,r.jsxs)(g.b,{status:"warning",mb:4,fontSize:12,textAlign:"center",justifyContent:"center",children:[(0,r.jsx)(x.x,{as:"strong",mr:1,children:"Note:"}),"Your API Key has been prefilled in the following section. Sending requests affects your account balance."]}),(0,r.jsx)(v.S5,{userApiKey:l})]})})]})};var S=C;n(34982);var k=n(27378),E=n(25229),D=n(65218),I=n.n(D),R=n(86677),z=n.n(R),M=n(9240),A=n(46413),_=n(34412),P=n.n(_),W=n(60597),T=n(32362),O=n(59131),L=n(38541),U=n(55840),N=n(8408),X=n(52853),F=n(30158),Y=n(5148),H=n(33738),q=n(27114);(i=l||(l={})).ELEMENT="element",i.ELEMENT_LIST="elementList",i.FORMAT="format";let G=(0,Y.m)("div",{baseStyle:{width:0,height:0,borderTop:"12px solid transparent",borderBottom:"12px solid transparent",borderLeft:"16px solid"}}),B=e=>{let{visible:t,arrowColor:n="gray.900",children:i}=e;return(0,r.jsxs)(u.k,{justifyContent:"center",position:"relative",children:[t&&(0,r.jsx)(G,{position:"absolute",top:{base:"-28px",lg:"16px"},left:{base:"calc(50% - 8px)",lg:0},transform:{base:"rotate(90deg)",lg:"rotate(0deg)"},borderLeftColor:n}),i]})},K=e=>{let{toolbarState:t,onElementsMenuClick:n,onDownloadCanvasClick:i,onAutomateClick:o,onSaveDesignClick:s,onFormatMenuClick:a}=e,{templateEditorStore:c}=(0,N.oR)(),{getRootProps:d,getInputProps:x}=(0,X.fr)({noClick:!1,onSuccess:function(e){var t;let{data:n}=e;c.setProcessing(!1),null===(t=c.template)||void 0===t||t.addNewImageElement(n)},onBeforeUpload:function(){c.setProcessing(!0)},onError:function(){c.setProcessing(!1)}});return(0,r.jsxs)(H.K,{display:"flex",color:"gray.400",direction:{base:"row",lg:"column"},justifyContent:{base:"space-between",lg:"flex-start"},spacing:{base:4,lg:8},py:4,pt:{base:0,lg:8},px:{base:4,lg:0},width:{base:"100%",lg:"auto"},height:{base:"auto",lg:"100%"},overflowY:"auto",children:[(0,r.jsx)(b.Eq,{...d(),icon:(0,r.jsx)(q.dt,{fontSize:{base:"2.5rem",sm:"3rem",lg:"4rem"}}),text:"Add",children:(0,r.jsx)("input",{...x()})}),(0,r.jsx)(B,{visible:t===l.ELEMENT||t===l.ELEMENT_LIST,arrowColor:t===l.ELEMENT?"gray.900":"gray.200",children:(0,r.jsx)(b.Eq,{icon:(0,r.jsx)(q.LE,{fontSize:{base:"2.5rem",sm:"3rem",lg:"4rem"}}),text:"Elements",onClick:n})}),(0,r.jsx)(B,{visible:t===l.FORMAT,children:(0,r.jsx)(b.Eq,{icon:(0,r.jsx)(q.tK,{fontSize:{base:"2.5rem",sm:"3rem",lg:"4rem"}}),text:"Aspect Ratio",onClick:a})}),(0,r.jsx)(b.Eq,{icon:(0,r.jsx)(q.ZK,{fontSize:{base:"2.5rem",sm:"3rem",lg:"4rem"}}),text:"Start Batch",onClick:o}),(0,r.jsx)(b.Eq,{display:{base:"none",lg:"flex"},icon:(0,r.jsx)(q.N,{fontSize:{base:"3rem",lg:"4rem"}}),text:"Save Design",onClick:s}),(0,r.jsx)(b.Eq,{display:"flex",icon:(0,r.jsx)(q.tx,{color:"palette.2",fontSize:{base:"2.5rem",sm:"3rem",lg:"4rem"}}),text:"Download",onClick:i})]})};var V=n(62328),Q=n(39786),Z=n(39829),$=n(29839),J=n(74582),ee=n(76334),et=n(60126),en=n(59686),ei=n(67188),el=n(98622),er=n(46063),eo=n(91895),es=n(83550),ea=n(5546);let ec=e=>{let{value:t,url:n,active:i=!1,label:l,onClick:o}=e;return(0,r.jsxs)(A.z,{"data-hj-suppress":"true",variant:"unstyled",display:"flex",height:"auto",flexDirection:"column",alignItems:"center",flexShrink:0,onClick:function(){t&&o&&o(t)},children:[(0,r.jsxs)(b.BD,{position:"relative",children:[(0,r.jsx)(a.xu,{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderStyle:"solid",...i?{borderWidth:"3px",borderColor:"palette.2"}:{borderWidth:"1px",borderColor:"gray.500"}}),(0,r.jsx)(ee.E,{alt:l,width:"64px",height:"64px",objectFit:"contain",src:n})]}),l&&(0,r.jsx)(x.x,{mt:1,fontSize:10,noOfLines:1,maxWidth:"64px",children:l})]})},ed=(0,k.forwardRef)(function(e,t){let{children:n,label:i,active:l=!1,...o}=e;return(0,r.jsxs)(A.z,{variant:"unstyled",display:"flex",height:"auto",flexDirection:"column",alignItems:"center",flexShrink:0,...o,children:[(0,r.jsxs)(u.k,{ref:t,borderStyle:"solid",width:"64px",height:"64px",justifyContent:"center",alignItems:"center",position:"relative",children:[(0,r.jsx)(a.xu,{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderStyle:"solid",...l?{borderWidth:"3px",borderColor:"palette.2"}:{borderWidth:"1px",borderColor:"gray.500"}}),n]}),(0,r.jsx)(x.x,{mt:1,fontSize:10,noOfLines:1,maxWidth:"64px",children:i})]})});var ex=n(85976),eu=n(42940),eh=n(29321);let em=e=>{let{children:t,alignment:n,background:i,...l}=e,o=(0,ex.mq)("Tabs"),{fontSize:s,p:c}=o.tab,d={...l},x=(0,eu.DZ)(i,0)(eh.r);return"left"===n?(d.left="0",d.bgGradient="linear(to-r, ".concat(i,", ").concat(x,")")):(d.right="0",d.bgGradient="linear(to-l, ".concat(i,", ").concat(x,")")),(0,r.jsx)(a.xu,{pos:"absolute",top:"0",w:"30px",pointerEvents:"none",__css:{fontSize:s,p:c},...d,children:t})};var ep=n(52969),eg=n(81685),ef=n(79109),ej=n(14206),eb=n.n(ej),ev=function(e){let{pushApiErrors:t}=(0,k.useContext)(N.KV),{templateEditorStore:n}=(0,N.oR)(),i=(0,k.useCallback)(async(i,l)=>{let r={...null!=e?e:{},...null!=l?l:{}},o=null,s=null;n.setProcessing(!0),r.manuallyUndoHistoryChanges&&!n.history.groupStarted&&n.history.startGroup(()=>{});try{s=await i()}catch(e){if(o=e,eb().isAxiosError(o)&&(0,ef.F)(o)){var a,c;let e="function"==typeof r.skipErrorHandling&&r.skipErrorHandling(o,null===(a=o.response)||void 0===a?void 0:a.data.errors[0]);e||t(null===(c=o.response)||void 0===c?void 0:c.data)}}return r.manuallyUndoHistoryChanges&&n.history.groupStarted&&n.history.stopGroup(),n.setProcessing(!1),o&&r.manuallyUndoHistoryChanges&&setTimeout(()=>{n.history.undo(),n.history.historyPop()},0),{result:s,error:o}},[e,t,n]);return i};let ey=e=>{let{children:t,disabled:n}=e;return(0,r.jsx)(eo.O,{_selected:{fontWeight:"bold",bgColor:"#768089",border:0,boxShadow:"0 0 .25rem #444"},_focusVisible:{boxShadow:"var(--chakra-shadows-outline) !important"},display:"block",m:"0.25rem",p:0,border:0,borderRadius:"0.5rem",disabled:n,children:(0,r.jsx)(a.xu,{as:"span",display:"inline-block",width:{base:"80px",md:"100px"},fontSize:"sm",color:"white",py:1,children:t})})},ew=[{id:"gradient-1",src:"/colortransfer/1_gradient.png",thumbnailSrc:"/colortransfer/1_gradient_thumbnail.png"},{id:"gradient-2",src:"/colortransfer/2_gradient.png",thumbnailSrc:"/colortransfer/2_gradient_thumbnail.png"},{id:"gradient-3",src:"/colortransfer/3_gradient.png",thumbnailSrc:"/colortransfer/3_gradient_thumbnail.png"},{id:"gradient-4",src:"/colortransfer/4_gradient.png",thumbnailSrc:"/colortransfer/4_gradient_thumbnail.png"},{id:"gradient-5",src:"/colortransfer/5_gradient.png",thumbnailSrc:"/colortransfer/5_gradient_thumbnail.png"},{id:"gradient-6",src:"/colortransfer/6_gradient.png",thumbnailSrc:"/colortransfer/6_gradient_thumbnail.png"},{id:"gradient-7",src:"/colortransfer/7_gradient.png",thumbnailSrc:"/colortransfer/7_gradient_thumbnail.png"},{id:"gradient-8",src:"/colortransfer/8_gradient.png",thumbnailSrc:"/colortransfer/8_gradient_thumbnail.png"},{id:"gradient-9",src:"/colortransfer/9_gradient.png",thumbnailSrc:"/colortransfer/9_gradient_thumbnail.png"},{id:"gradient-10",src:"/colortransfer/10_gradient.png",thumbnailSrc:"/colortransfer/10_gradient_thumbnail.png"},{id:"gradient-11",src:"/colortransfer/11_gradient.png",thumbnailSrc:"/colortransfer/11_gradient_thumbnail.png"},{id:"gradient-12",src:"/colortransfer/12_gradient.png",thumbnailSrc:"/colortransfer/12_gradient_thumbnail.png"},{id:"gradient-13",src:"/colortransfer/13_gradient.png",thumbnailSrc:"/colortransfer/13_gradient_thumbnail.png"}],eC=[{label:"Fill Mode",value:ep.K8.COVER,icon:(0,r.jsx)(q.ms,{fontSize:"4rem"})},{label:"Fit Mode",value:ep.K8.CONTAIN,icon:(0,r.jsx)(q.xu,{fontSize:"4rem"})}],eS=[{label:"Original",value:ep.mo.ORIGINAL,icon:(0,r.jsx)(q.I,{fontSize:"4rem"})},{label:"Sharpen",value:ep.mo.SHARPEN,icon:(0,r.jsx)(q.I$,{fontSize:"4rem"})}],ek=[{label:"Image",Component:(0,E.Pi)(e=>{let{element:t,onElementDelete:n}=e,{templateEditorStore:i}=(0,N.oR)(),l=ev();async function o(e){let{data:n}=e;i.setProcessing(!1),await l(async()=>{await t.updateImage(n)})}let{getRootProps:s,getInputProps:a,isDragActive:c}=(0,X.fr)({noClick:!1,onSuccess:o,onBeforeUpload:function(){i.setProcessing(!0)},onError:function(){i.setProcessing(!1)}});return(0,r.jsxs)(b.nq,{children:[(0,r.jsx)(ec,{active:!0,label:"Your image",url:t.url}),(0,r.jsx)(ed,{label:"Delete",onClick:function(){n(t)},children:(0,r.jsx)(q.pJ,{fontSize:"2rem"})}),(0,r.jsxs)(ed,{active:c,...s(),label:"Change",children:[(0,r.jsx)("input",{...a()}),(0,r.jsx)(q.XX,{fontSize:"2rem"})]})]})})},{label:"Shadow",Component:(0,E.Pi)(e=>{let{element:t}=e,{templateEditorStore:n}=(0,N.oR)(),i=ev(),l="transparent"!==t.contentType&&t.shadowModeManual&&"number"!=typeof t.shadowAngle?eg.M1:t.shadowAngle,o="transparent"!==t.contentType&&t.shadowModeManual&&"number"!=typeof t.shadowAnglePitch?eg.U0:t.shadowAnglePitch;return(0,r.jsxs)(H.K,{gridGap:4,children:[(0,r.jsx)(a.xu,{px:3,py:{base:4,lg:0},children:(0,r.jsx)(b.iR,{label:{left:"Opacity",right:Math.trunc(100*t.shadowOpacity).toString()},value:100*t.shadowOpacity,onChange:function(e){n.history.groupStarted||n.history.startGroup(()=>{}),t.setShadowOpacity(e/100)},onChangeEnd:function(){n.history.stopGroup()}})}),(0,r.jsx)(u.k,{px:3,alignItems:"center",gap:8,children:(0,r.jsxs)(V.m,{index:t.shadowModeManual?1:0,display:"flex",flexDir:"column",gridGap:2,overflow:"hidden",onChange:function(e){0===e?i(async()=>{t.resetShadowAngleAndPitch(),await n.processTemplate()},{manuallyUndoHistoryChanges:!0}):t.setShadowManual("transparent"!==t.contentType?eg.M1:void 0,"transparent"!==t.contentType?eg.U0:void 0)},children:[(0,r.jsxs)(u.k,{alignItems:"center",gridGap:8,children:[(0,r.jsx)(x.x,{fontSize:"xs",children:"Direction"}),(0,r.jsxs)(Q.t,{display:"inline-flex",border:0,borderRadius:"0.5rem",backgroundColor:"#54616C",p:0,children:[(0,r.jsx)(ey,{children:"Auto"}),(0,r.jsx)(ey,{children:"Fixed"})]})]}),(0,r.jsxs)(Z.n,{children:[(0,r.jsx)($.x,{display:"none"}),(0,r.jsx)($.x,{children:(0,r.jsxs)(u.k,{justifyContent:"center",position:"relative",children:[(0,r.jsx)(b.i0,{angle:l,anglePitch:o,onChange:function(e,i){n.history.groupStarted||n.history.startGroup(()=>{}),t.setShadowManual(Math.round(100*e)/100,Math.round(100*i)/100)},onChangeEnd:function(){i(async()=>{await n.processTemplate()},{manuallyUndoHistoryChanges:!0})},width:"70%"}),(0,r.jsxs)(a.xu,{position:"absolute",bottom:0,left:0,fontSize:"x-small",children:[(0,r.jsxs)(a.xu,{children:["Angle:"," ",l?Math.round(l)%360:"-"]}),(0,r.jsxs)(a.xu,{children:["Distance:"," ",o?Math.round(o/45*100):"-"]})]})]})})]})]})})]})})},{label:"Style",Component:(0,E.Pi)(e=>{let{element:t,template:n}=e,{templateEditorStore:i}=(0,N.oR)(),l=(0,k.useRef)(null),o=ev();async function s(e){var i;let{data:r}=e,s=n.createColorTransferReferenceFromImage(null!==(i=l.current)&&void 0!==i?i:"element-".concat(Date.now()),r);l.current=null,await o(async()=>{await t.setColorTransferElementId(s.id)})}let{getRootProps:a,getInputProps:c,isDragActive:d,uploadImage:x}=(0,X.fr)({noClick:!1,onSuccess:s,onBeforeUpload:function(){i.setProcessing(!0)},onError:function(){i.setProcessing(!1)}});function u(e){o(async()=>{await t.setColorTransferElementId(e)})}async function h(e){let t=ew.find(t=>t.id===e);if(!t)return;i.setProcessing(!0);let n=await fetch(t.src),r=await n.blob();l.current=t.id,await x(new File([r],"color-transfer-image.png",{type:"image/png",lastModified:new Date().getTime()}),{generateOnlyBasicImageModifiers:!0})}return(0,r.jsxs)(b.nq,{alignItems:"flex-start",children:[t.image.originalPreviewUrl&&(0,r.jsx)(ec,{value:"original",label:"None",active:!t.autoEnhanced&&!t.colorTransferElementId,url:t.image.originalPreviewUrl,onClick:function(){o(async()=>{await t.unsetStyles()})}}),t.image.autoEnhancedPreviewUrl&&(0,r.jsx)(ec,{value:"enhance",label:"Enhance",active:t.autoEnhanced,url:t.image.autoEnhancedPreviewUrl,onClick:function(){o(async()=>{await t.setAutoEnhance(!0)})}}),(0,r.jsxs)(ed,{...a(),active:d,label:"Select image",children:[(0,r.jsx)("input",{...c()}),(0,r.jsx)(q.dt,{fontSize:"2rem"})]}),n.elements.filter(e=>{let{id:n,referencingElement:i}=e;return t.id!==n&&!i}).map(e=>{let{id:n,name:i,url:l}=e;return(0,r.jsx)(ec,{value:n,label:i,active:t.colorTransferElementId===n,url:l,onClick:u},n)}),ew.filter(e=>!n.elements.find(t=>t.name===e.id)).map(e=>{let{id:t,thumbnailSrc:n}=e;return(0,r.jsx)(ec,{value:t,label:t,url:n,onClick:h},t)})]})})},{label:"Pixelation",Component:(0,E.Pi)(e=>{let{element:t}=e,n=ev();return(0,r.jsx)(b.nq,{children:eS.map((e,i)=>{let{value:l,label:o,icon:s}=e;return(0,r.jsx)(ed,{label:o,active:t.pixelationMode===l,onClick:()=>{n(async()=>{await t.setPixelationMode(l)})},children:s},i)})})})},{label:"Cutout",Component:(0,E.Pi)(e=>{let{element:t}=e,n=ev();function i(e){n(async()=>{await t.setContentType(e)})}return(0,r.jsxs)(b.nq,{children:[t.image.originalPreviewUrl&&(0,r.jsx)(ec,{value:ep.lN.ORIGINAL,label:"Original",active:"original"===t.contentType,url:t.image.originalPreviewUrl,onClick:i}),t.image.backgroundRemovedPreviewUrl&&(0,r.jsx)(ec,{value:ep.lN.TRANSPARENT,label:"Transparent",active:"transparent"===t.contentType,url:t.image.backgroundRemovedPreviewUrl,onClick:i})]})})},{label:"Advanced",Component:(0,E.Pi)(e=>{var t;let{template:n,element:i}=e,{templateEditorStore:l}=(0,N.oR)(),o=(0,k.useRef)(null);async function s(e){var t,r,s;if(n.dynamicAspectRatio&&!e.target.checked){let e=await (null===(r=o.current)||void 0===r?void 0:r.requestMainSubject());e&&(null===(s=l.template)||void 0===s||s.changeMainSubject(e,!0));return}null===(t=l.template)||void 0===t||t.changeMainSubject(i,e.target.checked)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(H.K,{spacing:4,children:[(0,r.jsxs)(u.k,{justifyContent:{lg:"space-between"},mb:2,children:[(0,r.jsx)(H.K,{direction:"row",children:eC.map((e,t)=>{let{value:n,label:l,icon:o}=e;return(0,r.jsx)(ed,{label:l,active:i.clipMode===n,onClick:()=>{i.setClipMode(n)},children:o},t)})}),(0,r.jsx)(H.K,{justifyContent:"center",ml:8,children:(0,r.jsxs)(es.NI,{display:"flex",alignItems:"center",children:[(0,r.jsx)(J.r,{id:"main-subject",isChecked:(null===(t=l.template)||void 0===t?void 0:t.mainSubject)===i,onChange:s}),(0,r.jsx)(ea.l,{htmlFor:"main-subject",fontSize:"xs",mb:0,ml:3,children:"Main Subject"})]})})]}),(0,r.jsxs)(H.K,{spacing:4,children:[(0,r.jsx)(a.xu,{px:3,children:(0,r.jsx)(b.iR,{label:"Horizontal Alignment",value:100*i.clipModeX,onChange:function(e){l.history.groupStarted||l.history.startGroup(()=>{}),i.setHorizontalPlacement(e/100)},onChangeEnd:function(){l.history.stopGroup()}})}),(0,r.jsx)(a.xu,{px:3,children:(0,r.jsx)(b.iR,{label:"Vertical Alignment",value:100*i.clipModeY,onChange:function(e){l.history.groupStarted||l.history.startGroup(()=>{}),i.setVerticalPlacement(e/100)},onChangeEnd:function(){l.history.stopGroup()}})})]})]}),(0,r.jsx)(b._j,{ref:o,template:n})]})})}],eE=(0,E.Pi)(e=>{let{visible:t,template:n,selectedElement:i,onHide:l,onShowElementList:o,onElementMoveLayerDown:s,onElementMoveLayerUp:a,...d}=e;return t&&i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.k,{flexDirection:"column",background:"gray.900",display:{base:"none",lg:"flex"},width:"360px",height:"100vh",children:[(0,r.jsxs)(u.k,{alignItems:"center",justifyContent:"space-between",pl:"4",py:"4",children:[(0,r.jsx)(A.z,{_hover:{textDecoration:"none"},variant:"link",color:"gray.400",size:"sm",height:"auto",onClick:o,leftIcon:(0,r.jsx)(W.Ao2,{size:18}),children:"All Elements"}),(0,r.jsx)(A.z,{_hover:{textDecoration:"none"},variant:"link",size:"sm",height:"auto",color:"palette.2",mr:2,onClick:l,rightIcon:(0,r.jsx)(W.Rgz,{size:18}),children:"Hide"})]}),(0,r.jsx)(p.i,{borderColor:"#5f5f5f"}),(0,r.jsxs)(u.k,{p:4,alignItems:"center",display:{base:"none",lg:"flex"},children:[(0,r.jsx)(ee.E,{width:"64px",height:"64px",objectFit:"contain",alt:i.name,src:i.url}),(0,r.jsxs)(A.z,{variant:"unstyled",display:"flex",flexDirection:"column",height:"auto",ml:8,position:"relative",top:"6px",onClick:s,children:[(0,r.jsx)(q.cL,{fontSize:"2.5rem",mb:1}),(0,r.jsx)(x.x,{fontSize:"xs",children:"Send backward"})]}),(0,r.jsxs)(A.z,{variant:"unstyled",display:"flex",flexDirection:"column",height:"auto",ml:8,position:"relative",top:"6px",onClick:a,children:[(0,r.jsx)(q.t5,{fontSize:"2.5rem",mb:1}),(0,r.jsx)(x.x,{fontSize:"xs",children:"Send forward"})]})]}),(0,r.jsx)(u.k,{flexDirection:"column",overflow:"auto",borderTopWidth:1,borderStyle:"solid",borderColor:"#5f5f5f",css:{"&::-webkit-scrollbar":{display:"none"}},children:(0,r.jsx)(et.U,{flex:"1",allowMultiple:!0,defaultIndex:[0],children:ek.map((e,t)=>(0,r.jsxs)(en.Q,{borderColor:"#5f5f5f",borderTopWidth:0===t?0:1,children:[(0,r.jsxs)(ei.K,{_hover:{background:"initial"},py:4,color:"gray.400",children:[(0,r.jsx)(el.X,{fontSize:20,mr:2}),(0,r.jsx)(c.X,{fontSize:"xs",children:e.label})]}),(0,r.jsx)(er.H,{children:(0,r.jsx)(e.Component,{template:n,element:i,...d})})]},t))})})]}),(0,r.jsxs)(V.m,{variant:"toolbar",display:{base:"block",lg:"none"},background:"gray.900",children:[(0,r.jsxs)(b.lK,{px:3,children:[(0,r.jsx)(em,{alignment:"left",background:"gray.900",children:"\xa0"}),(0,r.jsx)(em,{alignment:"right",background:"gray.900",children:"\xa0"}),ek.map((e,t)=>(0,r.jsx)(eo.O,{_selected:{fontWeight:"700",color:"palette.2"},transition:"none",children:e.label},t))]}),(0,r.jsx)(Z.n,{children:ek.map((e,t)=>(0,r.jsx)($.x,{pt:0,children:(0,r.jsx)(e.Component,{template:n,element:i,...d})},t))})]})]}):null});var eD=n(388),eI=n(10043),eR=n(29105),ez=n(33218);let eM=(0,Y.m)(A.z,{baseStyle:{flex:1,display:"flex",height:"auto",color:"gray.900",fontSize:"24px",transition:"none"}}),eA=e=>{let{element:t,dragHandleClassName:n,onDelete:i,onSelect:l}=e;function o(){l(t)}return(0,r.jsxs)(a.xu,{display:"flex",justifyContent:"space-between",pl:4,py:3,borderBottomWidth:1,borderStyle:"solid",borderColor:"white",backgroundColor:"gray.200",children:[(0,r.jsx)(A.z,{variant:"unstyled",height:"auto",onClick:o,children:(0,r.jsx)(a.xu,{backgroundImage:"url('".concat(t.url,"')"),backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"80px",height:"45px",mr:2})}),(0,r.jsx)(eM,{variant:"unstyled",onClick:o,children:(0,r.jsx)(ez.jox,{})}),(0,r.jsx)(eM,{variant:"unstyled",onClick:function(){i(t,!1)},children:(0,r.jsx)(q.pJ,{fontSize:"2rem"})}),(0,r.jsx)(eM,{_hover:{cursor:"grab"},_active:{cursor:"grabbing"},className:n,variant:"unstyled",pr:2,children:(0,r.jsx)(q.kg,{fontSize:"2rem"})})]})};function e_(){let e=(0,eD.Z)(["\n              .editor-element-list .smooth-dnd-ghost {\n                border-top: 1px solid white;\n              }\n            "]);return e_=function(){return e},e}let eP=(0,Y.m)(A.z,{baseStyle:{flex:1,display:"flex",fontFamily:"body",height:"auto",color:"gray.900",fontSize:"xs",paddingRight:4,paddingLeft:2,borderWidth:"1px",borderColor:"gray.700",borderRadius:"5px"}}),eW=(0,E.Pi)(e=>{let{onHide:t,onElementDrop:n,onElementSelect:i,onElementDelete:l,template:o,visible:s,...d}=e,{templateEditorStore:h}=(0,N.oR)(),m=o.elements.slice().reverse(),{getRootProps:g,getInputProps:f}=(0,X.fr)({noClick:!1,onSuccess:function(e){var t;let{data:n}=e;h.setProcessing(!1),null===(t=h.template)||void 0===t||t.addNewImageElement(n)},onBeforeUpload:function(){h.setProcessing(!0)},onError:function(){h.setProcessing(!1)}});return(0,r.jsxs)(a.xu,{background:"gray.200",display:s?"block":"none",width:"280px",height:{base:"auto",lg:"100vh"},maxHeight:{base:"250px",lg:"100vh"},overflow:"auto",position:{base:"absolute",lg:"static"},bottom:"calc(100% + 24px)",...d,children:[(0,r.jsxs)(u.k,{display:{base:"none",lg:"flex"},alignItems:"center",justifyContent:"space-between",pl:"4",py:"4",children:[(0,r.jsx)(c.X,{as:"h4",fontSize:"xl",color:"gray.900",children:"Elements"}),(0,r.jsx)(A.z,{_hover:{textDecoration:"none"},variant:"link",size:"sm",height:"auto",color:"palette.2",mr:2,onClick:t,rightIcon:(0,r.jsx)(W.Rgz,{size:18}),children:"Hide"})]}),(0,r.jsx)(p.i,{borderColor:"white",display:{base:"none",lg:"block"}}),(0,r.jsx)(u.k,{p:4,justifyContent:"space-between",display:{base:"none",lg:"flex"},children:(0,r.jsxs)(eP,{...g(),variant:"unstyled",children:[(0,r.jsx)("input",{...f()}),(0,r.jsx)(q.XB,{fontSize:"3rem"}),(0,r.jsx)(x.x,{ml:1,children:"Add Image"})]})}),(0,r.jsx)(p.i,{borderColor:"white"}),(0,r.jsxs)(a.xu,{className:"editor-element-list",children:[(0,r.jsx)(eI.xB,{styles:(0,eI.iv)(e_())}),(0,r.jsx)(eR.Container,{lockAxis:"y",dragHandleSelector:".drag-handler",getChildPayload:function(e){return m[e]},onDrop:function(e){let{removedIndex:t,addedIndex:i,payload:l}=e,r=null!==t?o.elements.length-1-t:null,s=null!==i?o.elements.length-1-i:null;n(l,r,s)},dragBeginDelay:0,children:m.map(e=>(0,r.jsx)(eR.Draggable,{children:"colorTransferReference"===e.type?null:(0,r.jsx)(eA,{element:e,dragHandleClassName:"drag-handler",onSelect:i,onDelete:l})},e.id))})]})]})}),eT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"noopener,noreferrer",i=window.open(e,t,n);return i&&(i.opener=null),i};var eO=n(25257),eL=n(23109),eU=n(1379),eN=n(6451);let eX=(0,E.Pi)(e=>{let{template:t,onAspectRatioChanged:n,...i}=e,[l,o]=(0,k.useState)(null),[s,c]=(0,k.useState)(t.aspectRatioX),[d,x]=(0,k.useState)(t.aspectRatioY),{open:h,close:m,isOpen:p,setIsOpen:g}=(0,eN.Z)();function f(e,t){let i=null,l=parseInt(e.toString(),10),r=parseInt(t.toString(),10);if(isNaN(l)||isNaN(r)||l<=0||r<=0){o("Parsing error!");return}let s=l>r?l/r:r/l;if(s>3){let[e,t]=l>r?[l,r]:[r,l],n=!0;do n?e-=1:t+=1,s=e/t,n=!n;while(s>3);[l,r]=l>r?[e,t]:[t,e];let o=l>r?"".concat(3,":1"):"1:".concat(3);i="Aspect ratios bigger than ".concat(o," are not supported.")}c(l),x(r),setTimeout(()=>o(i)),n(l,r)}return(0,k.useEffect)(()=>{c(t.aspectRatioX),x(t.aspectRatioY)},[t.aspectRatioX,t.aspectRatioY]),(0,k.useEffect)(()=>{o(null)},[s,d]),(0,r.jsxs)(u.k,{alignItems:"center",fontSize:"xs",gridGap:2,...i,children:[(0,r.jsxs)(u.k,{alignItems:"center",children:[(0,r.jsx)(eL.I,{type:"number",pattern:"\\d*",width:"50px",height:"min-content",px:".5rem",py:".25rem",fontSize:"xs",value:s,onChange:e=>e.target.value.length<=4&&c(e.target.value),onKeyDown:e=>"Enter"===e.key&&f(s,d)}),(0,r.jsx)(a.xu,{mx:".25rem",children:":"}),(0,r.jsx)(eL.I,{type:"number",pattern:"\\d*",width:"50px",height:"min-content",px:".5rem",py:".25rem",fontSize:"xs",value:d,onChange:e=>e.target.value.length<=4&&x(e.target.value),onKeyDown:e=>"Enter"===e.key&&f(s,d)})]}),(0,r.jsx)(A.z,{variant:"unstyled",fontSize:"xs",fontWeight:"bold",height:"auto",bgColor:"#768089",borderWidth:"1px",borderColor:"#768089",py:1,onClick:()=>f(s,d),children:"OK"}),l&&(0,r.jsx)(eU.u,{mb:1,fontSize:"xs",hasArrow:!0,label:l,color:"white",placement:"top",rounded:5,isOpen:p,children:(0,r.jsx)(q.zM,{color:"#fcc017",fontSize:"md",onMouseEnter:h,onMouseLeave:m,onClick:()=>g(!0)})}),(0,r.jsx)(b.Eq,{minWidth:"auto",px:0,icon:(0,r.jsx)(q.s1,{fontSize:{base:"2.5rem",lg:"3rem"},pb:2}),text:"",onClick:()=>f(d,s)})]})}),eF=[{label:"Quick Select",Component:(0,E.Pi)(e=>{let{onAspectRatioChanged:t}=e;return(0,r.jsx)(u.k,{flexDirection:{base:"row",lg:"column"},overflowX:"auto",children:[{aspectRatioX:1,aspectRatioY:1,text:"Square"},{aspectRatioX:3,aspectRatioY:2,text:"Mid"},{aspectRatioX:2,aspectRatioY:1,text:"Wide"},{aspectRatioX:3,aspectRatioY:4,text:"Portrait"},{aspectRatioX:16,aspectRatioY:9,text:"Landscape"},{aspectRatioX:1,aspectRatioY:1,text:"Amazon"},{aspectRatioX:1,aspectRatioY:1,text:"Ebay"},{aspectRatioX:9,aspectRatioY:16,text:"Instagram Story"},{aspectRatioX:4,aspectRatioY:5,text:"Instagram Post Portrait"},{aspectRatioX:1,aspectRatioY:1,text:"Instagram Square"},{aspectRatioX:9,aspectRatioY:16,text:"Facebook Story"},{aspectRatioX:40,aspectRatioY:21,text:"Facebook Post"},{aspectRatioX:1,aspectRatioY:1,text:"Facebook Marketplace"},{aspectRatioX:16,aspectRatioY:9,text:"Youtube"},{aspectRatioX:16,aspectRatioY:9,text:"Twitter Post"},{aspectRatioX:3,aspectRatioY:2,text:"LinkedIn Post"},{aspectRatioX:2,aspectRatioY:3,text:"Pinterest Pin"}].map((e,n)=>(0,r.jsxs)(A.z,{variant:"unstyled",fontSize:"xs",height:"auto",width:"100%",display:"flex",flexDirection:{base:"column",lg:"row"},justifyContent:"flex-start",p:{base:2,lg:0},py:{base:0,lg:"10px"},gridGap:4,whiteSpace:"normal",minWidth:"auto",onClick:()=>t(e.aspectRatioX,e.aspectRatioY),children:[(0,r.jsx)(u.k,{width:"2.5rem",justifyContent:"center",children:(0,r.jsx)(a.xu,{height:"1.25rem",width:"calc(1.25rem * ".concat(e.aspectRatioX/e.aspectRatioY,")"),borderWidth:"1px",borderStyle:"solid",borderColor:"gray.400"})}),(0,r.jsxs)(u.k,{flexDirection:{base:"column",lg:"row"},gap:".25rem",fontSize:{base:10,lg:"xs"},children:[(0,r.jsxs)(x.x,{children:[e.aspectRatioX,":",e.aspectRatioY]}),(0,r.jsx)(x.x,{children:e.text})]})]},n))})})}],eY=(0,E.Pi)(e=>{let{selectedTabIndex:t,onTabIndexChange:n,children:i}=e;return(0,r.jsxs)(V.m,{isManual:!0,index:t,display:"flex",flexDir:"column",gridGap:2,overflow:"hidden",onChange:n,children:[(0,r.jsxs)(Q.t,{display:"inline-flex",alignSelf:"start",border:0,borderRadius:"0.5rem",backgroundColor:"#54616C",mt:4,mx:4,children:[(0,r.jsx)(ey,{children:"Auto"}),(0,r.jsx)(ey,{children:"Fixed"})]}),(0,r.jsxs)(Z.n,{minH:0,children:[(0,r.jsx)($.x,{p:0,pt:2,h:"100%",children:(0,r.jsx)(x.x,{fontSize:"xs",px:4,children:'Automatically matches the aspect ratio of the "Main Subject"'})}),(0,r.jsx)($.x,{px:0,pt:2,h:"100%",children:i})]})]})}),eH=(0,E.Pi)(e=>{let{visible:t,isMobile:n,template:i,onHide:l,...o}=e,{templateEditorStore:s}=(0,N.oR)(),d=(0,k.useRef)(null),h=(0,k.useRef)(null);(0,eO.O)({ref:h,handler:()=>t&&n&&l()});let m=(0,k.useMemo)(()=>i.dynamicAspectRatio?0:1,[i.dynamicAspectRatio]);if(!t)return null;function g(e,t){i.setAspectRatio(e,t)}async function f(e){let t=!e;if(t&&!i.mainSubject){var n,l;let e=await (null===(n=d.current)||void 0===n?void 0:n.requestMainSubject());if(!e)return;await (null===(l=s.template)||void 0===l?void 0:l.changeMainSubject(e,!0))}s.processTemplate({templateChanges:{dynamicAspectRatio:t}})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.k,{flexDirection:"column",background:"gray.900",display:{base:"none",lg:"flex"},width:"360px",height:"100vh",children:[(0,r.jsx)(u.k,{alignItems:"center",justifyContent:"flex-end",pl:"4",py:"4",children:(0,r.jsx)(A.z,{_hover:{textDecoration:"none"},variant:"link",size:"sm",height:"auto",color:"palette.2",mr:2,onClick:l,rightIcon:(0,r.jsx)(W.Rgz,{size:18}),children:"Hide"})}),(0,r.jsx)(p.i,{borderColor:"#5f5f5f"}),(0,r.jsxs)(u.k,{flexDir:"column",minH:0,children:[(0,r.jsx)(x.x,{fontWeight:"bold",fontSize:"xs",px:4,mt:4,children:"Aspect Ratio"}),(0,r.jsxs)(eY,{selectedTabIndex:m,onTabIndexChange:f,children:[(0,r.jsx)(eX,{template:i,onAspectRatioChanged:g,mx:4,mb:4}),(0,r.jsx)(p.i,{borderColor:"#5f5f5f"}),(0,r.jsx)(u.k,{flexDirection:"column",h:"100%",overflow:"auto",borderTopWidth:1,borderStyle:"solid",borderColor:"#5f5f5f",css:{"&::-webkit-scrollbar":{display:"none"}},children:(0,r.jsx)(et.U,{flex:"1",allowMultiple:!0,defaultIndex:Array.from({length:5},(e,t)=>t),children:eF.map((e,t)=>(0,r.jsxs)(en.Q,{borderColor:"#5f5f5f",borderTopWidth:0===t?0:1,children:[(0,r.jsxs)(ei.K,{_hover:{background:"initial"},py:4,color:"gray.400",children:[(0,r.jsx)(el.X,{fontSize:20,mr:2}),(0,r.jsx)(c.X,{fontSize:"xs",children:e.label})]}),(0,r.jsx)(er.H,{children:(0,r.jsx)(e.Component,{template:i,onAspectRatioChanged:g,...o})})]},t))})})]})]})]}),(0,r.jsxs)(V.m,{ref:h,variant:"toolbar",display:{base:"block",lg:"none"},background:"gray.900",children:[(0,r.jsx)(b.lK,{px:3,children:(0,r.jsx)(eo.O,{_selected:{fontWeight:"700",color:"palette.2"},transition:"none",children:"Aspect Ratio"})}),(0,r.jsx)(Z.n,{children:(0,r.jsx)($.x,{p:0,pb:3,children:(0,r.jsxs)(eY,{selectedTabIndex:m,onTabIndexChange:f,children:[(0,r.jsx)(eX,{template:i,onAspectRatioChanged:g,mx:4,mb:4}),(0,r.jsx)(p.i,{borderColor:"#5f5f5f",mb:4}),eF.map((e,t)=>(0,r.jsxs)(a.xu,{children:[(0,r.jsx)(a.xu,{px:3,children:(0,r.jsx)(e.Component,{template:i,onAspectRatioChanged:g,...o})}),t!==eF.length-1&&(0,r.jsx)(p.i,{mt:2,mb:4,color:"#5f5f5f"})]},t))]})})})]}),(0,r.jsx)(b._j,{ref:d,template:i})]})}),eq={MOVE_UP:"up",MOVE_DOWN:"down",MOVE_LEFT:"left",MOVE_RIGHT:"right",DELETE:["del","backspace"],UNDO:["cmd+z","ctrl+z"],REDO:["cmd+y","ctrl+y"],SAVE:["cmd+s","ctrl+s"]},eG=I()(()=>n.e(8099).then(n.bind(n,18099)),{loadableGenerated:{webpack:()=>[18099]},ssr:!1,loading:()=>(0,r.jsx)("p",{children:"Loading Scene"})}),eB=(0,E.Pi)(e=>{var t,n,i;let{templateId:s,imageId:h,createFromScratch:m=!1}=e,p="string"==typeof h?h:null,g=L.Z.stringify({tid:s,iid:p},{skipNull:!0}),f=(0,k.useRef)(null),{templateEditorStore:j}=(0,N.oR)(),[v,y]=(0,k.useState)(null),[C,S]=(0,k.useState)(!1),[E,D]=(0,k.useState)(!1),I=(0,k.useRef)(null),R=(0,k.useRef)(null),_=(0,k.useRef)(null),Y=(0,k.useRef)(null),H=(0,k.useRef)(null),{data:G}=(0,w.useSession)(),{setSigninTab:B,pushApiErrors:V}=(0,k.useContext)(N.KV),Q=(0,o.S)({base:!0,lg:!1}),Z=!Q||v!==l.ELEMENT&&v!==l.FORMAT,$=(0,k.useRef)(!1),J=ev(),ee=(null===(t=j.template)||void 0===t?void 0:t.userId)===(null==G?void 0:null===(n=G.user)||void 0===n?void 0:n.id),et={header:"Delete element?",body:""},[en,ei]=(0,k.useState)(et),el=(0,k.useMemo)(()=>{var e,t;return m?"/gallery".concat(p?"?image-id=".concat(p):""):ee||(null===(e=j.template)||void 0===e?void 0:e.categoryId)===null?"/templates/".concat(s).concat(p?"?iid=".concat(p):""):"/categories/".concat(null===(t=j.template)||void 0===t?void 0:t.categoryId,"/?").concat(g)},[m,ee,s,p,g,null===(i=j.template)||void 0===i?void 0:i.categoryId]),{ref:er,height:eo=1,width:es=1}=P()(),[ea]=(0,M.a)("(max-width: 62em)");function ec(){j.setProcessing(!0)}function ed(){j.setProcessing(!1)}(0,U.x)(e=>{j.changed&&e.preventDefault()}),(0,X.r5)(()=>j.fetchTemplate({templateId:s,imageId:p}),[s,p,j]),(0,k.useEffect)(()=>()=>j.clearStore(),[j]),(0,k.useEffect)(()=>{j.selectedElement||v===l.ELEMENT_LIST||v===l.FORMAT||y(null)},[j.selectedElement,v]);let{getRootProps:ex,getInputProps:eu,isDragActive:eh}=(0,X.fr)({onSuccess:function(e){var t;let{data:n}=e;j.setProcessing(!1),null===(t=j.template)||void 0===t||t.addNewImageElement(n)},onBeforeUpload:ec,onError:ed}),{getRootProps:em,getInputProps:ep,open:eg}=(0,X.fr)({noClick:!1,onSuccess:function(e){let{data:t}=e;j.setProcessing(!1),J(async()=>{j.selectedElement&&(await j.selectedElement.updateImage(t),$.current=!0)})},onBeforeUpload:ec,onError:ed});function ef(){v===l.ELEMENT&&y(null),j.setSelectedElement(null)}function ej(e){j.setSelectedElement(e),y(l.ELEMENT),m&&!p&&!1===$.current&&e&&"main"===e.name&&eg()}async function eb(e){var t,n;let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e&&"main"===e.name?ei({header:"Delete main subject?",body:(null==j?void 0:null===(n=j.template)||void 0===n?void 0:n.dynamicAspectRatio)?"Aspect ratio will be set to fixed.":""}):ei(et);let l=await (null===(t=I.current)||void 0===t?void 0:t.requestConfirmation());e&&l&&await J(async()=>{await j.deleteTemplateElement(e),i&&y(null)})}async function ey(){var e,t,n;if(!G)return!1;if(!(null===(e=j.template)||void 0===e?void 0:e.mainSubject)){let e=await (null===(t=_.current)||void 0===t?void 0:t.requestMainSubject());if(!e)return!1;null===(n=j.template)||void 0===n||n.changeMainSubject(e,!0)}return!0}async function ew(){var e,t,n,i,l;if(!G){let e=await (null===(t=H.current)||void 0===t?void 0:t.requestLoginOrSignUp());if("login"===e||"signup"===e){let t=eT("/signin?action=".concat(e),"_blank","");B(t)}return}let r=await ey();if(!r)return;let o=await (null===(e=R.current)||void 0===e?void 0:e.requestApproval());if(!o||o&&o.status===b.QU.CANCEL)return;let{status:s,value:a}=o;if(s===b.QU.SAVE){let e;if(j.setProcessing(!0),a)try{e=await j.create(a)}catch(e){V(null===(i=e.response)||void 0===i?void 0:i.data),j.setProcessing(!1);return}else{try{await j.save()}catch(e){V(null===(l=e.response)||void 0===l?void 0:l.data),j.setProcessing(!1);return}j.clearHistory(),z().replace(L.Z.exclude(z().asPath,["iid"]),void 0,{shallow:!0})}j.setProcessing(!1);let t=await (null===(n=R.current)||void 0===n?void 0:n.requestRedirect());if((null==t?void 0:t.status)===b.QU.REDIRECT){if(e)z().push("/templates/".concat(e.id));else{let e=ee?L.Z.exclude(el,["iid"]):el;z().push(e)}}else e&&(j.clearStore(),z().push("/templates/".concat(e.id,"/edit")))}}async function eC(){var e,t,n,i,l;let r=!!(null==G?void 0:null===(e=G.user)||void 0===e?void 0:null===(t=e.subscriptions)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.active),o=e=>{var t;return null===(t=f.current)||void 0===t?void 0:t.downloadCanvasAsImage({analyticsEvent:{name:"download_from_editor",category:"editor"},hasSubscription:r,imageId:e})};if(r){if(!j.changed&&j.template)return await o(p);let e=await ey();if(!e)return;let t=await (null===(i=R.current)||void 0===i?void 0:i.requestDownloadApproval());if(!t||t&&t.status===b.QU.CANCEL)return;let{status:n,value:r}=t;if(n===b.QU.SAVE_AND_DOWNLOAD){let e;if(j.setProcessing(!0),r)try{e=await j.create(r)}catch(e){V(null===(l=e.response)||void 0===l?void 0:l.data),j.setProcessing(!1);return}else await j.save(),j.clearHistory(),z().replace(L.Z.exclude(z().asPath,["iid"]),void 0,{shallow:!0});j.setProcessing(!1),e&&(j.clearStore(),z().push("/templates/".concat(e.id,"/edit"))),await o()}else n===b.QU.DOWNLOAD_WITHOUT_CHANGES&&j.template&&await o(p)}else await o(p),D(!0)}async function eS(){var e,t,n,i,l,r;if(!j.changed){ek(el);return}if(!G){let e=await (null===(t=Y.current)||void 0===t?void 0:t.requestConfirmation());e&&ek(el);return}let o=await (null===(e=R.current)||void 0===e?void 0:e.requestApproval(!0));if(!o||o&&o.status===b.QU.CANCEL)return;let{status:s,value:a}=o;if(s===b.QU.DISCARD){ek(el);return}if(s===b.QU.SAVE){if(!(null===(n=j.template)||void 0===n?void 0:n.mainSubject)){await new Promise(e=>setTimeout(()=>e(null),0));let e=await (null===(i=_.current)||void 0===i?void 0:i.requestMainSubject());if(!e)return;null===(l=j.template)||void 0===l||l.changeMainSubject(e,!0)}let e="";if(a)try{let t=await j.create(a);e="/templates/".concat(t.id)}catch(e){V(null===(r=e.response)||void 0===r?void 0:r.data),j.setProcessing(!1);return}else await j.save(),j.clearHistory(),e=L.Z.exclude(el,["iid"]);let{url:t,query:o}=L.Z.parseUrl(e);ek(e=L.Z.stringifyUrl({url:t,query:{...o,saved:!0}}));return}}function ek(e){z().push(e||el)}let eD=(0,k.useCallback)(e=>{let t=j.selectedElement;if(t)switch(e){case"MOVE_UP":t.transform({y:t.y-.01});break;case"MOVE_DOWN":t.transform({y:t.y+.01});break;case"MOVE_LEFT":t.transform({x:t.x-.01});break;case"MOVE_RIGHT":t.transform({x:t.x+.01})}},[j.selectedElement]);return(0,r.jsxs)(O.GlobalHotKeys,{allowChanges:!0,keyMap:eq,handlers:{MOVE_UP:()=>eD("MOVE_UP"),MOVE_DOWN:()=>eD("MOVE_DOWN"),MOVE_LEFT:()=>eD("MOVE_LEFT"),MOVE_RIGHT:()=>eD("MOVE_RIGHT"),DELETE:()=>eb(j.selectedElement),UNDO:function(e){null==e||e.preventDefault(),j.history.canUndo&&j.history.undo()},REDO:function(e){null==e||e.preventDefault(),j.history.canRedo&&j.history.redo()},SAVE:function(e){null==e||e.preventDefault(),ew()}},style:{outline:0},children:[j.template&&(0,r.jsxs)(u.k,{flexDir:{base:"column",lg:"row"},height:"100vh",sx:{"@supports (height: -webkit-fill-available)":{height:"-webkit-fill-available"}},color:"gray.400",backgroundColor:"black",children:[(0,r.jsxs)(u.k,{flexDirection:"column",flex:1,overflow:"hidden",children:[(0,r.jsxs)(u.k,{p:4,pb:6,position:"relative",justifyContent:{base:"space-between",lg:"flex-start"},children:[(0,r.jsx)(A.z,{_hover:{textDecoration:"none"},variant:"unstyled",height:"auto",display:"flex",color:"white",alignItems:"center",justifyContent:"flex-start",fontWeight:"700",position:"relative",zIndex:1,onClick:j.selectedElement&&ea?ef:eS,leftIcon:(0,r.jsx)(W.Ao2,{size:18}),children:j.selectedElement&&ea?"Back":"Gallery"}),(0,r.jsxs)(u.k,{flex:1,justifyContent:"center",position:"absolute",top:"12px",left:0,width:"100%",display:{base:"none",lg:"flex"},children:[(0,r.jsxs)(A.z,{variant:"unstyled",display:"flex",flexDirection:"column",height:"auto",mr:6,disabled:!j.history.canUndo,onClick:function(){j.history.undo()},children:[(0,r.jsx)(T.$8s,{style:{fontSize:"30px"}}),(0,r.jsx)(a.xu,{fontSize:12,children:"Undo"})]}),(0,r.jsxs)(A.z,{variant:"unstyled",display:"flex",flexDirection:"column",height:"auto",disabled:!j.history.canRedo,onClick:function(){j.history.redo()},children:[(0,r.jsx)(T.JW_,{style:{fontSize:"30px"}}),(0,r.jsx)(a.xu,{fontSize:12,children:"Redo"})]})]}),(0,r.jsx)(b.Eq,{display:{base:"flex",lg:"none"},flexDir:"row",icon:(0,r.jsx)(q.N,{fontSize:{base:"2.5rem",sm:"3rem"}}),text:"Save",onClick:ew})]}),(0,r.jsxs)(u.k,{...ex(),ref:er,flex:1,overflow:"hidden",children:[(0,r.jsx)("input",{...eu()}),(0,r.jsx)(eG,{innerRef:f,width:es,height:eo,template:j.template,selectedElement:j.selectedElement,onElementSelect:ej,onElementDeselect:ef,onElementDelete:eb})]}),(0,r.jsx)(a.xu,{p:4,display:{base:"none",lg:"block"},children:(0,r.jsx)(d.E,{alt:"",role:"presentation",height:{base:"28px",lg:"20px"},src:"/designify_logo_color_gray.svg"})})]}),(0,r.jsxs)(u.k,{position:"relative",justifyContent:"flex-start",alignItems:{base:"center",lg:"flex-start"},children:[(0,r.jsx)(eE,{template:j.template,selectedElement:j.selectedElement,visible:"element"===v,onHide:ef,onShowElementList:function(){j.setSelectedElement(null),y(l.ELEMENT_LIST)},onElementMoveLayerDown:function(){var e,t;let n=null===(e=j.template)||void 0===e?void 0:e.elements.findIndex(e=>{var t;return e.id===(null===(t=j.selectedElement)||void 0===t?void 0:t.id)});j.selectedElement&&"number"==typeof n&&(null===(t=j.template)||void 0===t||t.changeElementOrder(j.selectedElement,n,Math.max(0,n-1)))},onElementMoveLayerUp:function(){var e,t;let n=null===(e=j.template)||void 0===e?void 0:e.elements.findIndex(e=>{var t;return e.id===(null===(t=j.selectedElement)||void 0===t?void 0:t.id)});j.selectedElement&&"number"==typeof n&&(null===(t=j.template)||void 0===t||t.changeElementOrder(j.selectedElement,n,Math.min(j.template.elements.length,n+1)))},onElementDelete:eb}),(0,r.jsx)(eW,{visible:"elementList"===v,template:j.template,onHide:function(){y(null)},onElementDrop:function(e,t,n){var i;null===(i=j.template)||void 0===i||i.changeElementOrder(e,t,n)},onElementDelete:eb,onElementSelect:ej,marginX:Q?"10%":0}),(0,r.jsx)(eH,{visible:"format"===v,isMobile:Boolean(Q),template:j.template,onHide:()=>y(null)}),Z&&(0,r.jsx)(K,{toolbarState:v,onElementsMenuClick:function(){"element"===v&&j.setSelectedElement(null),y(v===l.ELEMENT_LIST?null:l.ELEMENT_LIST)},onDownloadCanvasClick:eC,onAutomateClick:function(){S(!0),(0,F.q)("automate_from_editor","website_automation")},onSaveDesignClick:ew,onFormatMenuClick:function(){y(v===l.FORMAT?null:l.FORMAT),j.setSelectedElement(null)}})]})]}),eh&&(0,r.jsx)(b.cF,{pointerEvents:"none",children:(0,r.jsxs)(a.xu,{textAlign:"center",color:"white",children:[(0,r.jsx)(c.X,{size:"2xl",mb:4,children:"Drop image on the canvas"}),(0,r.jsx)(x.x,{fontWeight:"600",children:"(1 file at a time)"})]})}),j.template&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.rA,{template:j.template,open:C,onClose:function(){S(!1)}}),(0,r.jsx)(b._j,{ref:_,template:j.template}),(0,r.jsx)(b.vc,{ref:R,isOwner:!m&&ee,hasOwner:!m,name:m?"My Design":j.template.name}),(0,r.jsx)(b.cV,{ref:Y,header:"Discard Changes",buttonTextConfirm:"Discard",colorScheme:"red"}),(0,r.jsx)(b.hF,{header:"Login or sign up to save designs",ref:H})]}),(0,r.jsx)(b.cV,{ref:I,...en,colorScheme:"red"}),j.template&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.DI,{active:E}),(0,r.jsx)(b._v,{open:E,onClose:function(){D(!1)},template:j.template,redirectUrl:"/pricing"})]}),(0,r.jsx)(a.xu,{display:"none",...em(),children:(0,r.jsx)("input",{...ep()})})]})});var eK=eB,eV=n(25505);let eQ=()=>(0,r.jsxs)(u.k,{flexDirection:"column",alignItems:"center",children:[(0,r.jsx)(x.x,{mb:4,children:"Want to change your account email or password, or delete your account?"}),(0,r.jsx)(m.r,{_hover:{textDecoration:"none"},href:(0,eV.d)("NEXT_PUBLIC_ACCOUNTS_BASE_URL"),isExternal:!0,px:6,py:2,mb:6,rounded:5,textAlign:"center",border:"1px solid",borderColor:"palette.2",bg:"palette.2",color:"white",fontSize:"sm",fontWeight:"bold",children:"Manage Kaleido Account"})]});var eZ=n(86144);let e$=e=>{var t,n;let{user:i,apiKey:l}=e,[o,s]=(0,k.useState)(l),[c,d]=(0,k.useState)(!1),[h,p]=(0,k.useState)(!1),g=(null===(t=i.subscriptions)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.active)||!1,f=(0,X.s$)();async function v(){if(o||h)d(!0);else{let e=await y();e&&d(!0)}}async function y(){p(!0);let{data:e}=await f((0,eZ.nO)().post("/api/api-key"));return p(!1),(null==e?void 0:e.apiKey)&&s(e.apiKey),null==e?void 0:e.apiKey}return(0,r.jsxs)(u.k,{flexDirection:"column",alignItems:"center",children:[(0,r.jsx)(x.x,{mb:4,children:"Get your personal API Key to process images through the Designify API."}),c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Mi,{text:null!=o?o:"No existing API key",mb:4}),(0,r.jsx)(A.z,{_hover:{textDecoration:"none",bg:"palette.2",color:"white"},px:6,py:2,mb:6,rounded:5,textAlign:"center",bg:"white",color:"palette.2",borderWidth:1,borderColor:"palette.2",fontSize:"sm",fontWeight:"bold",onClick:y,children:"Re-issue"})]}):(0,r.jsx)(A.z,{_hover:{textDecoration:"none"},disabled:h,px:6,py:2,mb:6,rounded:5,textAlign:"center",bg:"palette.2",color:"white",fontSize:"sm",fontWeight:"bold",onClick:v,children:"Show API Key"}),!g&&(0,r.jsxs)(a.xu,{width:"100%",fontSize:"sm",bgColor:"palette.4",p:2,textAlign:"center",children:["API is a Designify Pro feature"," ",(0,r.jsx)(j(),{href:"/api-docs",passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(m.r,{fontWeight:"bold",textDecoration:"underline",children:"learn more"})})]})]})};var eJ=n(93412),e0=n(3440),e1=n(88097),e2=n(14808),e4=n(91834),e5=n(75065),e3=n(27693),e6=n.n(e3);let e8=n(3284),e9=e=>{var t,n,i,l,o,s,d,x,h,m,g,f,j,v,y;let{user:C,subscriptionInterval:S,creditUsageWarningThreshold:E,onViewChange:D}=e,I=(0,R.useRouter)(),[z,M]=(0,k.useState)(!1),A=(null===(t=C.subscriptions)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.active)||!1,_=null===(i=C.subscriptions)||void 0===i?void 0:null===(l=i[0])||void 0===l?void 0:l.status,P=(null===(o=C.subscriptions)||void 0===o?void 0:null===(s=o[0])||void 0===s?void 0:s.nextBillDate)?e6()(null===(d=C.subscriptions)||void 0===d?void 0:null===(x=d[0])||void 0===x?void 0:x.nextBillDate).format("MMMM DD, YYYY"):null,W=(null===(h=C.subscriptions)||void 0===h?void 0:null===(m=h[0])||void 0===m?void 0:m.cancellationEffectiveDate)?e6()(null===(g=C.subscriptions)||void 0===g?void 0:null===(f=g[0])||void 0===f?void 0:f.cancellationEffectiveDate).format("MMMM DD, YYYY"):null,T=null===(j=C.subscriptions)||void 0===j?void 0:null===(v=j[0])||void 0===v?void 0:v.creditLimit,O=(0,k.useMemo)(()=>{if(!S)return null;let{totalImageCredits:e,remainingImageCredits:t}=S;return Math.round((e-t)/e*100)},[S]);return(0,r.jsxs)(u.k,{flexDir:"column",alignItems:"center",gridGap:"10",mb:"4",children:[z&&(0,r.jsx)(b.cF,{children:(0,r.jsxs)(u.k,{flexDir:"column",alignItems:"center",color:"white",children:[(0,r.jsx)(eJ.$,{thickness:"4px",size:"xl",mb:8}),(0,r.jsx)(c.X,{size:"md",mb:4,children:"Complete purchase..."})]})}),A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.xu,{textAlign:"center",children:[(0,r.jsxs)(a.xu,{children:["You are subscribed to",(0,r.jsxs)(a.xu,{as:"span",fontWeight:"bold",children:[" ","Designify Pro"]}),"."]}),(0,r.jsx)(a.xu,{children:"With your subscription you have access to:"})]}),(0,r.jsx)(a.xu,{children:(0,r.jsxs)(e0.r,{templateColumns:{base:"2rem 1fr 0",md:"repeat(2, 2rem auto 3rem) 2rem auto"},rowGap:"6",columnGap:{base:"6",md:"4"},children:[(0,r.jsx)(q.TD,{width:"100%",height:"100%"}),(0,r.jsx)(u.k,{alignItems:"center",children:"Batch Processing"}),(0,r.jsx)(e1.L,{}),(0,r.jsx)(q.jE,{width:"100%",height:"100%"}),(0,r.jsx)(u.k,{alignItems:"center",children:"High Resolution"}),(0,r.jsx)(e1.L,{}),(0,r.jsx)(q.pj,{width:"100%",height:"100%"}),(0,r.jsx)(u.k,{alignItems:"center",children:"API Access"})]})}),(0,r.jsx)(p.i,{borderWidth:"2px 0 0 0"}),(0,r.jsxs)(u.k,{flexDir:"column",alignItems:"center",textAlign:"center",gap:4,mb:6,children:[S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.X,{as:"h3",fontFamily:"Poppins",fontSize:"xl",children:"Monthly Download Limit"}),null!==O&&(0,r.jsx)(e2.E,{value:O||1,width:"80%",bgColor:"gray.200",borderRadius:20,variant:O>=E?"danger":""}),(0,r.jsxs)(a.xu,{fontSize:"sm",children:[(0,r.jsxs)(a.xu,{color:O&&O>=E?"palette.3":"gray.900",children:[O,"% used (",S.totalImageCredits-S.remainingImageCredits," ","of ",S.totalImageCredits,")"]}),P&&(0,r.jsxs)(a.xu,{children:["renews ",P," ",T!==S.totalImageCredits&&(0,r.jsxs)(r.Fragment,{children:["with a new limit of ",T]})]}),W&&(0,r.jsxs)(a.xu,{children:["ends ",W]})]})]}),!(null===(y=C.subscriptions[0])||void 0===y?void 0:y.cancellationEffectiveDate)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.zx,{onClick:function(){D()},inverted:!(O&&O>=E),disabled:!_||"deleted"===_||"past_due"===_,children:"Set custom limit"}),(0,r.jsx)(b.zx,{onClick:function(){var e;e4.Z.Checkout.open({override:null===(e=null==C?void 0:C.subscriptions[0])||void 0===e?void 0:e.cancelUrl,successCallback:()=>{M(!0);let e=async()=>(0,w.getSession)(),t=e=>{var t,n,i;return null==e?void 0:null===(t=e.user)||void 0===t?void 0:null===(n=t.subscriptions)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:i.cancellationEffectiveDate};e8(e,t,500,3e4).then(()=>{M(!1),window.location.reload()})}})},variant:"unstyled",color:"palette.2",height:"auto",fontSize:"xs",fontWeight:"normal",children:"Cancel Subscription"})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.xu,{textAlign:"center",children:[(0,r.jsxs)(a.xu,{children:["You are using",(0,r.jsxs)(a.xu,{as:"span",fontWeight:"bold",children:[" ","Designify Free"]}),"."]}),(0,r.jsx)(a.xu,{children:"Secure your access for good with this ridiculous launch offer."})]}),(0,r.jsx)(a.xu,{w:"100%",children:(0,r.jsx)(e5.dW,{onClick:function(){let e=C.billingProfiles[0].id;(0,F.q)("checkout_started","checkout",!1),e4.Z.Checkout.open({product:(0,eV.d)("NEXT_PUBLIC_PADDLE_PRODUCT_ID"),email:C.email,passthrough:JSON.stringify({billingProfileId:e}),successCallback:()=>{M(!0),(0,F.q)("checkout_completed","checkout",!1),I.push("/subscribed")}})},subscribed:A})})]})]})};var e7=n(87228);let te=e=>{var t,n,i,l,o,s,d,h,m,g;let{user:f,subscriptionInterval:j,creditLimits:v,creditUsageWarningThreshold:y,onViewChange:w}=e,C=(0,R.useRouter)(),S=null===(t=f.subscriptions)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.creditLimit,[E,D]=(0,k.useState)(!1),[I,z]=(0,k.useState)(v.findIndex(e=>e.limit===S)),M=null!==(m=null===(i=v.find(e=>e.limit===S))||void 0===i?void 0:i.price)&&void 0!==m?m:0,A=null!==(g=null===(l=v.find(e=>e.limit===j.totalImageCredits))||void 0===l?void 0:l.price)&&void 0!==g?g:0,_=(0,k.useMemo)(()=>v[I].price-M>0,[v,M,I]),P=(0,k.useMemo)(()=>!_||A>=v[I].price?0:v[I].price-A,[A,v,_,I]),W=(0,k.useMemo)(()=>v[I],[v,I]),T=(null===(o=f.subscriptions)||void 0===o?void 0:null===(s=o[0])||void 0===s?void 0:s.nextBillDate)?e6()(null===(d=f.subscriptions)||void 0===d?void 0:null===(h=d[0])||void 0===h?void 0:h.nextBillDate).format("MMMM DD, YYYY"):null,O=(0,k.useMemo)(()=>{if(!j)return null;let{totalImageCredits:e,remainingImageCredits:t}=j;return Math.round((e-t)/e*100)},[j]),L=(0,k.useMemo)(()=>{if(!j)return null;let{totalImageCredits:e,remainingImageCredits:t}=j,n=Math.max(v[I].limit,e);return Math.round((e-t)/n*100)},[v,I,j]),U=(0,k.useMemo)(()=>{if(!M||!S)return{limit:0,price:0,createdAt:"",updatedAt:""};let e=v[I].limit-S,t=v[I].price-M;return{...v[I],limit:e,price:t}},[v,I,M,S]);function N(e){return e<0?"- $ ".concat(-1*e):"$ ".concat(e)}async function X(){D(!0);try{await (0,eZ.nO)().post("/api/payment/credit-limit",{data:{limit:v[I].limit}}),C.reload()}catch(e){D(!1)}}return(0,r.jsxs)(u.k,{flexDir:"column",alignItems:"center",mb:"8",children:[E&&(0,r.jsx)(b.cF,{children:(0,r.jsxs)(u.k,{flexDir:"column",alignItems:"center",color:"white",children:[(0,r.jsx)(eJ.$,{thickness:"4px",size:"xl",mb:8}),(0,r.jsx)(c.X,{size:"md",mb:4,children:P>0?"Completing purchase...":"Setting custom limit..."})]})}),(0,r.jsx)(u.k,{width:"100%",alignItems:"flex-start",px:{base:0,lg:8},children:(0,r.jsx)(b.zx,{variant:"unstyled",fontSize:"xs",color:"gray.500",onClick:w,children:(0,r.jsxs)(u.k,{alignItems:"center",gap:1,children:[(0,r.jsx)(e7.bUI,{fontSize:"x-small"})," Back"]})})}),(0,r.jsxs)(u.k,{flexDir:"column",alignItems:"center",gap:6,maxW:"330px",children:[(0,r.jsx)(c.X,{as:"h2",children:"Set Custom Limit"}),(0,r.jsxs)(u.k,{alignItems:"center",gap:8,children:[(0,r.jsx)(b.zx,{px:2,fontSize:"xl",fontWeight:"bold",disabled:0===I,onClick:function(){I>0&&z(I-1)},children:"-"}),(0,r.jsx)(x.x,{fontSize:"4xl",children:W.limit}),(0,r.jsx)(b.zx,{px:2,fontSize:"xl",fontWeight:"bold",disabled:I===v.length-1,onClick:function(){I<v.length-1&&z(I+1)},children:"+"})]}),(0,r.jsxs)(u.k,{w:"100%",flexDir:"column",gap:3,fontSize:"sm",children:[(0,r.jsx)(p.i,{}),(0,r.jsxs)(u.k,{flexDir:"column",children:[(0,r.jsxs)(u.k,{justifyContent:"space-between",children:[(0,r.jsx)(x.x,{fontWeight:"bold",children:"Current Monthly Limit"}),(0,r.jsx)(x.x,{children:N(M)})]}),(0,r.jsxs)(u.k,{alignItems:"center",gap:1,children:[(0,r.jsx)(a.xu,{children:S}),(0,r.jsx)(u.k,{children:" | "}),(0,r.jsxs)(a.xu,{color:O&&O>=y?"palette.3":"gray.900",children:[O,"% used (",j.totalImageCredits-j.remainingImageCredits," ","of ",j.totalImageCredits,")"]})]})]}),S&&S<j.totalImageCredits&&(0,r.jsxs)(u.k,{flexDir:"column",children:[(0,r.jsx)(u.k,{justifyContent:"space-between",children:(0,r.jsxs)(x.x,{fontWeight:"bold",children:["Additional Monthly Limit"," ",(0,r.jsx)(a.xu,{as:"span",color:"palette.3",children:"(cancelled)"})]})}),(0,r.jsx)(u.k,{alignItems:"center",gap:1,children:(0,r.jsx)(a.xu,{children:j.totalImageCredits-S})})]}),0!==U.limit&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.k,{flexDir:"column",children:[(0,r.jsxs)(u.k,{justifyContent:"space-between",children:[(0,r.jsx)(x.x,{fontWeight:"bold",children:"Additional Monthly Limit"}),(0,r.jsx)(x.x,{children:N(U.price)})]}),(0,r.jsx)(u.k,{alignItems:"center",gap:1,children:(0,r.jsx)(a.xu,{children:U.limit})})]}),(0,r.jsx)(p.i,{}),(0,r.jsxs)(u.k,{flexDir:"column",children:[(0,r.jsxs)(u.k,{justifyContent:"space-between",children:[(0,r.jsxs)(x.x,{children:["New Monthly Fee for"," ",v[I].limit]}),(0,r.jsx)(x.x,{children:N(v[I].price)})]}),_&&A<v[I].price&&(0,r.jsxs)(u.k,{justifyContent:"space-between",children:[(0,r.jsx)(x.x,{children:"- already paid"}),(0,r.jsx)(x.x,{children:N(A)})]})]}),(0,r.jsx)(p.i,{}),(0,r.jsx)(u.k,{flexDir:"column",children:(0,r.jsxs)(u.k,{justifyContent:"space-between",children:[(0,r.jsx)(x.x,{fontWeight:"bold",children:"Due today"}),(0,r.jsx)(x.x,{fontWeight:"bold",children:N(P)})]})})]}),(0,r.jsx)(p.i,{})]}),S&&(0,r.jsx)(b.zx,{mt:2,onClick:X,disabled:0===U.limit,children:P>0?"Purchase upgrade":"Change limit"}),0!==U.limit&&(0,r.jsxs)(u.k,{flexDir:"column",fontSize:"xs",gap:2,children:[_?v[I].limit>j.totalImageCredits?(0,r.jsxs)(x.x,{children:["The new limit of ",v[I].limit," ","downloads takes effect immediately."," ",j.totalImageCredits-j.remainingImageCredits," ","of"," ",v[I].limit>j.totalImageCredits?v[I].limit:j.totalImageCredits," ","downloads (",L,"%) have been used."]}):(0,r.jsx)(x.x,{children:"No change on your donwload limit after upgrade in this billing cycle."}):T&&(0,r.jsxs)(x.x,{children:["All remaining downloads of your current limit are still available until ",T," after downgrade."]}),T&&(0,r.jsxs)(x.x,{children:["On ",T," your subscription of"," ",v[I].limit," downloads renews for $"," ",v[I].price,"."]}),(0,r.jsx)(x.x,{children:"You can always upgrade or downgrade your download limit, or cancel your subscription any time."})]})]})]})},tt=e=>{var t,n;let i=(0,R.useRouter)(),l="plan"===i.query.update,{user:o,onCreditViewChange:s}=e,a=(null===(t=o.subscriptions)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.active)||!1,[c,d]=(0,k.useState)(l&&a);function x(){d(!c),s()}return c?(0,r.jsx)(te,{...e,creditUsageWarningThreshold:80,onViewChange:x}):(0,r.jsx)(e9,{...e,creditUsageWarningThreshold:80,onViewChange:x})};var tn=n(9664),ti=n(56791),tl=n(63204),tr=n(39309);let to=e=>{var t,n;let{payments:i,user:l}=e,o=new Map([["card","Card"],["paypal","PayPal"]]);return(0,r.jsxs)(a.xu,{px:{base:0,lg:6},mb:"6",children:[(0,r.jsx)(a.xu,{fontSize:{base:"md",lg:"lg"},fontWeight:"bold",px:{base:0,lg:4},mb:"4",children:"Payment Method"}),(0,r.jsx)(a.xu,{px:{base:0,lg:4},mb:"6",children:i.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.xu,{children:null!==(n=o.get(i[0].paymentMethod))&&void 0!==n?n:i[0].paymentMethod}),(0,r.jsx)(a.xu,{children:i[0].email}),!(null===(t=null==l?void 0:l.subscriptions[0])||void 0===t?void 0:t.cancellationEffectiveDate)&&(0,r.jsx)(A.z,{onClick:function(){var e;e4.Z.Checkout.open({override:null===(e=null==l?void 0:l.subscriptions[0])||void 0===e?void 0:e.updateUrl,successCallback:()=>{window.location.reload()}})},variant:"unstyled",color:"palette.2",height:"auto",fontWeight:"normal",children:"change"})]}):(0,r.jsx)(a.xu,{children:"You have no payment methods configured."})}),(0,r.jsx)(a.xu,{fontSize:{base:"md",lg:"lg"},fontWeight:"bold",px:{base:0,lg:4},mb:"4",children:"Billing History"}),i.length>0?(0,r.jsx)(tn.i,{variant:"striped",children:(0,r.jsx)(ti.p,{children:i.map((e,t)=>(0,r.jsxs)(tl.Tr,{children:[(0,r.jsx)(tr.Td,{p:"4",children:e6()(e.date).format("MMMM DD, YYYY")}),(0,r.jsxs)(tr.Td,{p:"4",children:["$",Number.parseFloat(e.balanceGross).toFixed(2)]}),(0,r.jsx)(tr.Td,{p:"4",children:(0,r.jsx)(m.r,{href:e.receiptUrl,color:"primary.100",textDecoration:"underline",isExternal:!0,children:"invoice"})})]},t))})}):(0,r.jsx)(a.xu,{px:{base:0,lg:4},children:"Your payment history is empty."})]})},ts=e=>{let{user:t,apiKey:n,payments:i,subscriptionInterval:l,creditLimits:d}=e,x=(0,k.useRef)(null),h=(0,o.S)({lg:!0}),{query:m}=(0,R.useRouter)(),{tab:p}=m,g=[{title:"Your Plan",component:(0,r.jsx)(tt,{user:t,subscriptionInterval:l,creditLimits:d,onCreditViewChange:function(){x&&x.current&&x.current.scrollIntoView()}})},{title:"API Key",component:(0,r.jsx)(e$,{user:t,apiKey:n})},{title:"Payment & Billing",component:(0,r.jsx)(to,{user:t,payments:i})},{title:"Account Settings",component:(0,r.jsx)(eQ,{})}],f="api-key"===p?g.findIndex(e=>"API Key"===e.title):0;return(0,r.jsx)(s.W,{ref:x,pt:100,maxWidth:1e3,px:{base:0,lg:4},children:(0,r.jsxs)(u.k,{flexDirection:"column",p:{base:0,lg:4},pt:4,children:[(0,r.jsx)(c.X,{mb:2,textAlign:"center",children:"My Dashboard"}),(0,r.jsx)(c.X,{as:"h3",mb:10,textAlign:"center",fontSize:{base:"sm",md:"md"},children:t.email}),h&&(0,r.jsxs)(V.m,{defaultIndex:f,isFitted:!0,variant:"enclosed",children:[(0,r.jsx)(Q.t,{children:g.map((e,t)=>(0,r.jsx)(eo.O,{fontWeight:"bold",borderRadius:"0",borderWidth:"1px",borderBottom:"0",_selected:{color:"palette.2",backgroundColor:"white",borderColor:"gray.200"},children:e.title},t))}),(0,r.jsx)(Z.n,{backgroundColor:"white",borderWidth:"1px",borderColor:"gray.200",children:g.map((e,t)=>(0,r.jsx)($.x,{pt:8,children:e.component},t))})]}),!h&&(0,r.jsx)(et.U,{allowToggle:!0,children:g.map((e,t)=>(0,r.jsxs)(en.Q,{children:[(0,r.jsx)("h2",{children:(0,r.jsxs)(ei.K,{bg:"white",color:"gray.500",_expanded:{bg:"white",color:"palette.2"},_hover:{bg:"white"},children:[(0,r.jsx)(a.xu,{flex:"1",textAlign:"left",fontWeight:"bold",children:e.title}),(0,r.jsx)(b.Ef,{})]})}),(0,r.jsx)(er.H,{pb:4,bg:"white",children:e.component})]},t))})]})})};var ta=ts;let tc=()=>(0,r.jsx)(s.W,{maxW:"860px",pt:"60px",overflow:"hidden",children:(0,r.jsx)(a.xu,{id:"intro",w:"100%",py:{base:16,lg:28},pos:"relative",overflow:"hidden",children:(0,r.jsxs)(u.k,{wrap:"wrap",children:[(0,r.jsxs)(a.xu,{w:{base:"100%",md:"50%"},pr:{base:0,md:4},children:[(0,r.jsx)(c.X,{as:"h3",color:"palette.1",size:"md",mb:6,fontSize:{base:"lg",md:"xl"},children:"NEW"}),(0,r.jsx)(c.X,{as:"h2",mb:{base:6,md:10},children:"Designify Pro"}),(0,r.jsx)(x.x,{mb:4,children:"Editing product photos can be a chore. Countless hours are required to learn complex software, manually pick pixels, remove backgrounds and match colors - for photo after photo, thousands of times."}),(0,r.jsxs)(x.x,{mb:4,children:["Today all that is over: with the launch of"," ",(0,r.jsx)(b.CW,{children:"Designify Pro"})," we're starting a new era of ",(0,r.jsx)(b.CW,{children:"batch-editing"})," amazing product photos with"," ",(0,r.jsx)(b.CW,{children:"a single click."})]}),(0,r.jsx)(a.xu,{mt:10,mb:{base:10,md:0},children:(0,r.jsx)(m.r,{_hover:{textDecoration:"none"},px:8,py:2,mb:6,w:"100%",minWidth:"200px",rounded:5,textAlign:"center",border:"1px solid",borderColor:"palette.2",bg:"palette.2",color:"white",fontSize:"sm",fontWeight:"bold",href:"/pricing",children:"Launch offer"})})]}),(0,r.jsx)(a.xu,{w:{base:"100%",md:"50%"},pl:{base:0,md:4},pt:2,children:(0,r.jsx)(d.E,{src:"pro/designify_pro.gif",alt:"Designify smart editor"})})]})})}),td=()=>(0,r.jsx)(a.xu,{id:"features",w:"100%",py:{base:16,lg:28},pos:"relative",overflow:"hidden",bg:"gray.50",children:(0,r.jsx)(s.W,{maxW:"860px",children:(0,r.jsxs)(a.xu,{textAlign:"center",children:[(0,r.jsx)(c.X,{as:"h2",mb:12,children:"With Designify Pro it's easier than ever to turn photos into optimized assets"}),(0,r.jsxs)(u.k,{flexDirection:{base:"column",md:"row"},children:[(0,r.jsxs)(a.xu,{px:{base:6},mb:{base:8,md:0},children:[(0,r.jsx)(q.N,{fontSize:{base:"3rem",lg:"4rem"}}),(0,r.jsxs)(x.x,{mt:2,maxWidth:{base:"15rem",md:"100%"},marginX:"auto",children:[(0,r.jsx)(b.CW,{children:"Save your designs"})," to supercharge your workflow"]})]}),(0,r.jsxs)(a.xu,{px:{base:6},mb:{base:8,md:0},children:[(0,r.jsx)(q.pj,{fontSize:{base:"2.25rem",lg:"3rem"},mt:{base:"0.375rem",lg:"0.5rem"},mb:{base:"0.375rem",lg:"0.5rem"}}),(0,r.jsxs)(x.x,{mt:2,maxWidth:{base:"15rem",md:"100%"},marginX:"auto",children:[(0,r.jsx)(b.CW,{children:"Batch-process"})," any number of images through a ",(0,r.jsx)(b.CW,{children:"simple API"})]})]}),(0,r.jsxs)(a.xu,{px:{base:6},children:[(0,r.jsx)(q.jE,{fontSize:{base:"2.25rem",lg:"3rem"},mt:{base:"0.375rem",lg:"0.5rem"},mb:{base:"0.375rem",lg:"0.5rem"}}),(0,r.jsxs)(x.x,{mt:2,maxWidth:{base:"15rem",md:"100%"},marginX:"auto",children:[(0,r.jsx)(b.CW,{children:"Download high-resolution images"})," for maximum quality"]})]})]})]})})}),tx=()=>{let[e]=(0,M.a)("(min-width: 350px)");return(0,r.jsx)(a.xu,{id:"launch_offer",w:"100%",py:{base:16,lg:28},pos:"relative",overflow:"hidden",children:(0,r.jsxs)(s.W,{maxW:"820px",children:[(0,r.jsxs)(a.xu,{textAlign:"center",children:[(0,r.jsxs)(a.xu,{children:[e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ee.E,{alt:"",role:"presentation",src:"pricing/strike.svg",w:{base:"7rem",md:"8.3rem"},position:"absolute",top:{base:"1.8rem",md:"1.3rem",lg:"4.3rem"},left:{base:"calc(50% - 9.8rem)",md:"calc(50% - 11.7rem)"}}),(0,r.jsx)(ee.E,{alt:"",role:"presentation",src:"pricing/ridiculous.svg",w:"130px",position:"absolute",top:{base:"2rem",md:"2.1rem",lg:"5.1rem"},left:{base:"calc(50% - 11rem)",sm:"calc(50% - 13.1rem)",md:"calc(50% - 15rem)"}})]}),(0,r.jsx)(c.X,{as:"h2",mb:4,children:"Pricing Launch Offer"})]}),(0,r.jsxs)(x.x,{mb:4,children:["To celebrate the start of this new era with you, we've put together a ",(0,r.jsx)(b.CW,{children:"(ridiculous) launch offer"}),". Hurry up and redeem it for a ",(0,r.jsx)(b.CW,{children:"limited period of time"}),", then keep it ",(0,r.jsx)(b.CW,{children:"indefinitely"}),"!"]})]}),(0,r.jsx)(u.k,{w:"100%",justify:"center",mt:14,children:(0,r.jsx)(u.k,{flexDir:"column",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(a.xu,{mb:{base:10,md:0},children:(0,r.jsx)(m.r,{_hover:{textDecoration:"none"},px:8,py:2,mb:6,w:"100%",minWidth:"200px",rounded:5,textAlign:"center",border:"1px solid",borderColor:"palette.2",bg:"palette.2",color:"white",fontSize:"sm",fontWeight:"bold",href:"/pricing",children:"Launch offer"})})})})]})})},tu=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tc,{}),(0,r.jsx)(td,{}),(0,r.jsx)(tx,{})]});var th=tu;let tm=()=>(0,r.jsx)(u.k,{flexDir:"column",overflow:"hidden",bg:"white",boxShadow:"0px 0px 40px rgba(0, 0, 0, .15)",rounded:"20px",p:12,children:(0,r.jsxs)(u.k,{flexDir:"column",gap:10,children:[(0,r.jsx)(x.x,{fontFamily:"Poppins",fontSize:"lg",fontWeight:"bold",textAlign:"center",children:"Get started"}),(0,r.jsxs)(u.k,{flexDir:"column",gap:6,children:[(0,r.jsx)(j(),{href:"/batch",passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(m.r,{_hover:{textDecoration:"none"},px:6,py:2,w:"100%",rounded:5,textAlign:"center",border:"1px solid",borderColor:"palette.2",bg:"palette.2",color:"white",fontSize:"sm",fontWeight:"bold",children:"Upload a batch of images"})}),(0,r.jsx)(j(),{href:"/",passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(m.r,{_hover:{textDecoration:"none"},px:6,py:2,w:"100%",rounded:5,textAlign:"center",border:"1px solid",borderColor:"palette.2",bg:"white",color:"palette.2",fontSize:"sm",fontWeight:"bold",children:"Upload a single image"})})]})]})}),tp=()=>{let e=(0,k.useMemo)(()=>({path:"/animations/success.json",loop:!1}),[]);return(0,r.jsxs)(u.k,{flexDir:"column",alignItems:"center",mb:{base:16,lg:28},children:[(0,r.jsx)(b.qf,{options:e,segments:[0,30],width:150,height:150}),(0,r.jsx)(c.X,{as:"h1",fontSize:{base:"4xl",lg:"5xl"},mb:1,children:"Congratulations"}),(0,r.jsx)(x.x,{children:"You are now subscribed to Designify Pro"})]})},tg=()=>{let e=(0,o.S)({base:!0,md:!1});return(0,r.jsxs)(s.W,{maxW:"990px",pt:"130px",children:[(0,r.jsx)(tp,{}),e?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(u.k,{flexDir:"column",alignItems:"center",gap:14,children:[(0,r.jsx)(tm,{}),(0,r.jsx)(b.xM,{width:"auto",gridColumnGap:6,fontSize:"md",fontWeight:"normal",autoRows:"2.5rem",mb:0})]})}):(0,r.jsxs)(e0.r,{templateColumns:"1fr 1fr",children:[(0,r.jsx)(b.xM,{gridColumnGap:6,fontSize:"md",fontWeight:"normal",autoRows:"2.5rem",mb:0}),(0,r.jsx)(u.k,{justifyContent:"center",children:(0,r.jsx)(tm,{})})]}),(0,r.jsx)(b.q1,{questions:["How can I use the API?","Which image formats are supported?","How can I contact you for any feedback, ideas, suggestions?"]})]})};var tf=tg}}]);